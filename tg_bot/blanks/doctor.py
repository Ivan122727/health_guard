from datetime import datetime, timedelta
from typing import Optional
from shared.sqlalchemy_db_.sqlalchemy_model import SurveyDBM, UserDBM
from shared.sqlalchemy_db_.sqlalchemy_model.scheduled_survey import ScheduledSurveyDBM
from tg_bot.blanks import CommonBlank
from tg_bot.handlers.doctor.survey_models import Question, Survey


class DoctorBlank(CommonBlank):
    STATE_QUESTION_TEXT = "enter_question"
    STATE_QUESTION_OPTIONS = "enter_options"

    @staticmethod
    def get_default_blank(full_name: str) -> str:
        """–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é –¥–ª—è –¥–æ–∫—Ç–æ—Ä–∞"""
        text = (
            f"üë®‚öïÔ∏è <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MedSurvey Bot!</b> üë©‚öïÔ∏è\n\n"
            f"üìã <b>–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å</b>\n"
            f"üÜî <b>–§–ò–û –≤ —Å–∏—Å—Ç–µ–º–µ:</b> <code>{full_name}</code>\n\n"
            f"üõ† <i>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π</i>"
        )
        return text

    @staticmethod
    def get_patient_list_blank(patients_count: int) -> str:
        """–°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤"""
        return (
            f"üë• <b>–°–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</b>\n\n"
            f"üìä <b>–í—Å–µ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤:</b> {patients_count}\n\n"
            f"üëá <i>–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ</i>"
        )

    @staticmethod
    def get_no_patients_blank() -> str:
        """–°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–≥–¥–∞ –Ω–µ—Ç –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤"""
        return (
            "üòî <b>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</b>\n\n"
            "‚ÑπÔ∏è –ü–∞—Ü–∏–µ–Ω—Ç—ã —Å–º–æ–≥—É—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å—Å—è –∫ –≤–∞–º —á–µ—Ä–µ–∑ –±–æ—Ç–∞\n\n"
            "üîÑ <i>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∑–∂–µ</i>"
        )

    """–°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞"""

    @staticmethod
    def get_survey_title_input_blank() -> str:
        """–°–æ–æ–±—â–µ–Ω–∏–µ —Å –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞–∑–≤–∞–Ω–∏—è –æ–ø—Ä–æ—Å–∞"""
        return (
            "üìù <b>–î–∞–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–º—É –æ–ø—Ä–æ—Å—É</b>\n\n"
            "‚úèÔ∏è <b>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –Ω–∞–∑–≤–∞–Ω–∏—é:</b>\n"
            "‚Ä¢ –î–æ–ª–∂–Ω–æ –æ—Ç—Ä–∞–∂–∞—Ç—å —Å—É—Ç—å –æ–ø—Ä–æ—Å–∞\n"
            "‚Ä¢ –ù–µ –¥–ª–∏–Ω–Ω–µ–µ 100 —Å–∏–º–≤–æ–ª–æ–≤\n"
            "‚Ä¢ –ë–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (@, #, $ –∏ —Ç.–¥.)\n\n"
            "üìå <b>–ü—Ä–∏–º–µ—Ä—ã –Ω–∞–∑–≤–∞–Ω–∏–π:</b>\n"
            "<code> –û—Ü–µ–Ω–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è</code>\n"
            "<code> –ê–Ω–∫–µ—Ç–∞ –æ –∫–∞—á–µ—Å—Ç–≤–µ —Å–Ω–∞</code>\n"
            "<code> –û–ø—Ä–æ—Å –æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</code>\n\n"
            "üëá <b>–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞:</b>"
        )

    @staticmethod
    def get_survey_title_confirmation_blank(title: str) -> str:
        """–°–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è"""
        return (
            "üîç <b>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:</b>\n\n"
            f"üìå <b>–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞:</b>\n<code>{title}</code>\n\n"
            "‚ÑπÔ∏è <i>–ï—Å–ª–∏ –≤—Å—ë –≤–µ—Ä–Ω–æ - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, –ª–∏–±–æ –≤–≤–µ–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ</i>\n\n"
            "üëá <b>–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:</b>"
        )

    @staticmethod
    def get_choose_type_survey_blank() -> str:
        """–°–æ–æ–±—â–µ–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º —Ç–∏–ø–∞ —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –æ–ø—Ä–æ—Å–∞"""
        return (
            "üìù <b>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞:</b>\n\n"
            "1. ‚úèÔ∏è <b>–°–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è</b>\n"
            "   ‚Ä¢ –í—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤–≤–æ–¥–∏—Ç–µ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã\n"
            "   ‚Ä¢ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –æ–ø—Ä–æ—Å–∞\n\n"
            "2. üîç <b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</b>\n"
            "   ‚Ä¢ –í–≤–µ–¥–∏—Ç–µ ID –∏–∑ –æ–±—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤\n"
            "   ‚Ä¢ –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤\n\n"
            "üëá <i>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∏–∂–µ</i>"
        )

    @staticmethod
    def get_create_from_scratch_blank(step: str = None, current_question: str = None, count_questions: int = 0) -> str:
        """–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø—Ä–æ—Å–∞ —Å –Ω—É–ª—è"""
        if step == DoctorBlank.STATE_QUESTION_TEXT:
            questions_info = (
                f"üìä –í –æ–ø—Ä–æ—Å–µ —É–∂–µ {count_questions} –≤–æ–ø—Ä–æ—Å–æ–≤\n\n" 
                if count_questions > 0 
                else "üìù –í—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ –Ω–æ–≤—ã–π –æ–ø—Ä–æ—Å\n\n"
            )
            return (
                f"{questions_info}"
                "‚úèÔ∏è <b>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞:</b>\n\n"
                "‚ÑπÔ∏è <i>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤–æ–ø—Ä–æ—Å—É:</i>\n"
                "‚Ä¢ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–µ—Ç–∫–∏–º –∏ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º\n"
                "‚Ä¢ –ù–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã (@, #, $ –∏ —Ç.–¥.)\n"
                "‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ - 200 —Å–∏–º–≤–æ–ª–æ–≤\n\n"
                "üìå <b>–ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤:</b>\n"
                "<code>‚Ä¢ –ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç–µ –≥–æ–ª–æ–≤–Ω—É—é –±–æ–ª—å?</code>\n"
                "<code>‚Ä¢ –û—Ü–µ–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–Ω–∞ –ø–æ —à–∫–∞–ª–µ –æ—Ç 1 –¥–æ 5</code>\n"
                "<code>‚Ä¢ –ö–∞–∫–∏–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ –≤—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ?</code>"
            )
        
        elif step == DoctorBlank.STATE_QUESTION_OPTIONS:
            return (
                f"üìù <b>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞</b>\n\n"
                f"‚ùì <b>–¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å:</b>\n<code>{current_question}</code>\n\n"
                "‚ÑπÔ∏è <i>–ö–∞–∫ –≤–≤–æ–¥–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã:</i>\n"
                "1. –ö–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏\n"
                "2. –ú–∏–Ω–∏–º—É–º 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞\n"
                "3. –ú–∞–∫—Å–∏–º—É–º 10 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤\n"
                "4. –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫—Ä–∞—Ç–∫–∏–º–∏\n\n"
                "üìå <b>–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞:</b>\n"
                "<code>–ù–∏–∫–æ–≥–¥–∞\n"
                "–†–µ–¥–∫–æ (1-2 —Ä–∞–∑–∞ –≤ –º–µ—Å—è—Ü)\n"
                "–ò–Ω–æ–≥–¥–∞ (1-2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é)\n"
                "–ß–∞—Å—Ç–æ (3-5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é)\n"
                "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ</code>\n\n"
                "üëá <b>–í–≤–µ–¥–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤:</b>"
            )
        
        else:
            return (
                "üõ† <b>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞</b>\n\n"
                "üìã <b>–ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è:</b>\n"
                "1. –í–≤–æ–¥–∏—Ç–µ <b>—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞</b>\n"
                "2. –î–æ–±–∞–≤–ª—è–µ—Ç–µ <b>–≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤</b>\n"
                "3. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞\n"
                "4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –≥–æ—Ç–æ–≤—ã–π –æ–ø—Ä–æ—Å\n\n"
                f"üìå –°–µ–π—á–∞—Å –≤ –æ–ø—Ä–æ—Å–µ: {count_questions} –≤–æ–ø—Ä–æ—Å–æ–≤\n\n"
                "üëá <i>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –≤–æ–ø—Ä–æ—Å–∞</i>"
            )

    @staticmethod
    def get_use_template_blank(is_error: bool = False) -> str:
        """–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
        
        Args:
            is_error: –§–ª–∞–≥ –æ—à–∏–±–∫–∏ –≤–≤–æ–¥–∞
        """
        base_text = (
            "üìã <b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞</b>\n\n"
            "–í–≤–µ–¥–∏—Ç–µ <b>ID –≤–æ–ø—Ä–æ—Å–∞</b> –∏–∑ –æ–±—â–µ–≥–æ —Å–ø–∏—Å–∫–∞:\n"
            "‚Ä¢ –ú–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –≤–æ–ø—Ä–æ—Å–æ–≤\n"
            "‚Ä¢ –ò–ª–∏ –ø–æ–ª—É—á–∏—Ç—å —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\n\n"
            "üî¢ <b>–ü—Ä–∏–º–µ—Ä –≤–≤–æ–¥–∞ ID:</b>\n"
            "<code>12345</code>\n\n"
        )
        
        if is_error:
            error_text = (
                "‚ùóÔ∏è <b>–û—à–∏–±–∫–∞:</b> –í–æ–ø—Ä–æ—Å —Å —Ç–∞–∫–∏–º ID –Ω–µ –Ω–∞–π–¥–µ–Ω\n"
                "‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞\n"
                "‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–æ–ø—Ä–æ—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤–∞–º\n\n"
            )
            return base_text + error_text + "üëá <b>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞:</b>"
        
        return base_text + "üëá <b>–í–≤–µ–¥–∏—Ç–µ ID –≤–æ–ø—Ä–æ—Å–∞:</b>"

    @staticmethod
    def get_question_info(
        question_number: int,
        total_questions: int,
        current_question: Optional[Question] = None,
    ) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–æ–ø—Ä–æ—Å–µ
        
        Args:
            question_number: –ù–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
            total_questions: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤
            current_question: –¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å (None –µ—Å–ª–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–µ—Ç)
        """
        if current_question is None:
            return (
                "üì≠ <b>–í–æ–ø—Ä–æ—Å–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</b>\n\n"
                "‚ÑπÔ∏è –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å:\n"
                "‚Ä¢ ‚úèÔ∏è –°–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è\n"
                "‚Ä¢ üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω\n\n"
                "üëá –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–µ–Ω—é"
            )
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –≤–æ–ø—Ä–æ—Å–∞ —Å –∏–∫–æ–Ω–∫–æ–π
        type_icon = "üìã" if current_question.is_from_template else "‚úèÔ∏è"
        type_text = "–®–∞–±–ª–æ–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å" if current_question.is_from_template else "–°–æ–∑–¥–∞–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å"
        
        # –î–æ–±–∞–≤–ª—è–µ–º ID —à–∞–±–ª–æ–Ω–∞ –µ—Å–ª–∏ –≤–æ–ø—Ä–æ—Å —à–∞–±–ª–æ–Ω–Ω—ã–π
        template_info = ""
        if current_question.is_from_template and current_question.template_question_id:
            template_info = f"\nüîñ <b>ID —à–∞–±–ª–æ–Ω–∞:</b> <code>{current_question.template_question_id}</code>"
        
        # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
        formatted_options = "\n".join(
            f"{i+1}. {option}" 
            for i, option in enumerate(current_question.options)
        ) if current_question.options else "‚ÑπÔ∏è –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã"
        
        return (
            f"üìä <b>–í–æ–ø—Ä–æ—Å {question_number}/{total_questions}</b>\n"
            f"{type_icon} <b>–¢–∏–ø:</b> {type_text}{template_info}\n\n"
            f"‚ùì <b>–í–æ–ø—Ä–æ—Å:</b>\n"
            f"<code>{current_question.text}</code>\n\n"
            f"üìù <b>–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤:</b>\n"
            f"{formatted_options}\n\n"
            f"üëá <i>–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ</i>"
        )
    
    """–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞"""
    
    @staticmethod
    def get_survey_scheduling_blank() -> str:
        """–°–æ–æ–±—â–µ–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º —á–∞—Å—Ç–æ—Ç—ã –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞"""
        return (
            "‚è∞ <b>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –æ–ø—Ä–æ—Å–∞</b>\n\n"
            "üìÖ <b>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–∫ —á–∞—Å—Ç–æ –ø–∞—Ü–∏–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —ç—Ç–æ—Ç –æ–ø—Ä–æ—Å:</b>\n\n"
            "1. üîÑ <b>–ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å</b>\n"
            "   ‚Ä¢ –í—ã —Å–º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (1-5 —Ä–∞–∑)\n"
            "   ‚Ä¢ –ò –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ä–µ–º—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–ø—Ä–æ—Å–∞\n\n"
            "2. ‚òÄÔ∏è <b>–†–∞–∑ –≤ –¥–µ–Ω—å</b>\n"
            "   ‚Ä¢ –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤–∞–º–∏ –≤—Ä–µ–º—è\n\n"
            "3. üìÜ <b>–†–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π</b>\n"
            "   ‚Ä¢ –í—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª (2-7 –¥–Ω–µ–π)\n\n"
            "üîî <b>–î–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤:</b>\n"
            "‚Ä¢ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å\n"
            "‚Ä¢ –í <code>10:00</code>, <code>14:00</code> –∏ <code>17:00</code>\n"
            "‚Ä¢ –ï—Å–ª–∏ –æ–ø—Ä–æ—Å –Ω–µ –±—ã–ª –ø—Ä–æ–π–¥–µ–Ω\n\n"
            "üëá <i>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∏–∂–µ</i>"
        )

    @staticmethod
    def get_choose_multiple_times_blank() -> str:
        """–ë–ª–∞–Ω–∫ –≤—ã–±–æ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å"""
        return (
            "üîÑ <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø—Ä–æ—Å–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å</b>\n\n"
            "üî¢ <b>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å:</b>\n\n"
            "1Ô∏è‚É£ 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å (—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏)\n"
            "2Ô∏è‚É£ 2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (—É—Ç—Ä–æ/–≤–µ—á–µ—Ä)\n"
            "3Ô∏è‚É£ 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (—É—Ç—Ä–æ/–¥–µ–Ω—å/–≤–µ—á–µ—Ä)\n"
            "4Ô∏è‚É£ 4 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (–∫–∞–∂–¥—ã–µ 4-5 —á–∞—Å–æ–≤)\n"
            "5Ô∏è‚É£ 5 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (–∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞)\n\n"
            "‚ÑπÔ∏è <i>–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–ø—Ä–æ—Å–∞</i>\n\n"
            "üîî <b>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:</b>\n"
            "‚Ä¢ –ë—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤ <code>10:00</code>, <code>14:00</code> –∏ <code>17:00</code>\n"
            "‚Ä¢ –ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –∏–∑ –æ–ø—Ä–æ—Å–æ–≤ –Ω–µ –±—ã–ª –ø—Ä–æ–π–¥–µ–Ω\n\n"
            "üëá <i>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å</i>"
        )
    
    @staticmethod
    def get_set_times_per_day_blank(count: int, error_msg: Optional[str] = None) -> str:
        """–ë–ª–∞–Ω–∫ –≤–≤–æ–¥–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–ø—Ä–æ—Å–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
        
        Args:
            count: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å (1-5)
            error_msg: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        """
        time_examples = {
            1: ["09:00"],
            2: ["09:00", "19:00"],
            3: ["08:00", "13:00", "18:00"],
            4: ["08:00", "12:00", "16:00", "20:00"],
            5: ["07:00", "10:00", "13:00", "16:00", "19:00"]
        }
        
        example_times = "\n".join(f"{i+1}. {time}" for i, time in enumerate(time_examples[count]))
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        error_section = ""
        if error_msg:
            error_section = (
                "\n\n‚ùóÔ∏è <b>–û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞:</b>\n"
                f"<code>{error_msg}</code>\n"
                "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞:\n"
            )
        
        return (
            f"‚è± <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è {count} –æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å</b>\n"
            f"{error_section}\n"
            "‚åöÔ∏è <b>–í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–ø—Ä–æ—Å–∞:</b>\n"
            "‚Ä¢ –ö–∞–∂–¥–æ–µ –≤—Ä–µ–º—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏\n"
            "‚Ä¢ –§–æ—Ä–º–∞—Ç: <code>–ß–ß:–ú–ú</code> (24-—á–∞—Å–æ–≤–æ–π)\n"
            "‚Ä¢ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª - 2 —á–∞—Å–∞ –º–µ–∂–¥—É –æ–ø—Ä–æ—Å–∞–º–∏\n\n"
            f"üìå <b>–ü—Ä–∏–º–µ—Ä –¥–ª—è {count} –æ–ø—Ä–æ—Å–æ–≤:</b>\n"
            f"{example_times}\n\n"
            "‚ö†Ô∏è <b>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</b>\n"
            "‚Ä¢ –ü–µ—Ä–≤—ã–π –æ–ø—Ä–æ—Å –Ω–µ —Ä–∞–Ω—å—à–µ 07:00\n"
            "‚Ä¢ –ü–æ—Å–ª–µ–¥–Ω–∏–π –æ–ø—Ä–æ—Å –Ω–µ –ø–æ–∑–∂–µ 22:00\n"
            "‚Ä¢ –í—Å–µ –≤—Ä–µ–º–µ–Ω–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è\n\n"
            "üëá <b>–í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏–ª–∏ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏:</b>"
        )

    @staticmethod
    def get_once_per_day_blank(error_msg: Optional[str] = None) -> str:
        """–ë–ª–∞–Ω–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
        
        Args:
            error_msg: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        """
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        error_section = ""
        if error_msg:
            error_section = (
                "\n\n‚ùóÔ∏è <b>–û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞:</b>\n"
                f"<code>{error_msg}</code>\n"
                "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞:\n"
            )
        
        return (
            "üåû <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞</b>\n"
            f"{error_section}\n"
            "‚åöÔ∏è <b>–í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞:</b>\n"
            "‚Ä¢ –§–æ—Ä–º–∞—Ç: <code>–ß–ß:–ú–ú</code> (24-—á–∞—Å–æ–≤–æ–π)\n"
            "‚Ä¢ –ü—Ä–∏–º–µ—Ä: <code>09:30</code>\n\n"
            "‚è≥ <b>–î–æ–ø—É—Å—Ç–∏–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω:</b> 07:00 - 22:00\n\n"
            "üîî <b>–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:</b>\n"
            "1. –û—Å–Ω–æ–≤–Ω–æ–π –æ–ø—Ä–æ—Å –ø—Ä–∏–¥–µ—Ç –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤–∞–º–∏ –≤—Ä–µ–º—è\n"
            "2. –ï—Å–ª–∏ –ø–∞—Ü–∏–µ–Ω—Ç –Ω–µ –ø—Ä–æ–π–¥–µ—Ç –æ–ø—Ä–æ—Å –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤:\n"
            "   ‚Ä¢ –ü–µ—Ä–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ <code>10:00</code>\n"
            "   ‚Ä¢ –í—Ç–æ—Ä–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ <code>14:00</code>\n"
            "   ‚Ä¢ –¢—Ä–µ—Ç—å–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ <code>17:00</code>\n\n"
            "‚ÑπÔ∏è <i>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –≤—Ä–µ–º–µ–Ω–∏:</i>\n"
            "‚Ä¢ –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —Ç–∏–ø–∏—á–Ω—ã–π —Ä–∞—Å–ø–æ—Ä—è–¥–æ–∫ –¥–Ω—è –ø–∞—Ü–∏–µ–Ω—Ç–∞\n"
            "‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–Ω–∏—Ö (–¥–æ 08:00) –∏ –ø–æ–∑–¥–Ω–∏—Ö (–ø–æ—Å–ª–µ 21:00) —á–∞—Å–æ–≤\n"
            "‚Ä¢ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è - —É—Ç—Ä–æ –∏–ª–∏ –¥–µ–Ω—å, –∫–æ–≥–¥–∞ –ø–∞—Ü–∏–µ–Ω—Ç –Ω–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–µ–Ω\n\n"
            "üëá <b>–í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:</b>"
        )

    @staticmethod
    def get_once_per_day_confirmation_blank(selected_time: str) -> str:
        """–ë–ª–∞–Ω–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞"""
        return (
            "‚úÖ <b>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞</b>\n\n"
            f"‚è∞ <b>–û—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏:</b> <code>{selected_time}</code>\n\n"
            "üîî <b>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å:</b>\n"
            "‚Ä¢ –ï—Å–ª–∏ –æ–ø—Ä–æ—Å –Ω–µ –ø—Ä–æ–π–¥–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤\n"
            "‚Ä¢ –í <code>10:00</code>, <code>14:00</code> –∏ <code>17:00</code>\n\n"
            "‚ö†Ô∏è <b>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:</b>\n"
            "‚Ä¢ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–µ–∫—Ä–∞—Ç—è—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞\n"
            "‚Ä¢ –ï—Å–ª–∏ –æ–ø—Ä–æ—Å –Ω–µ –ø—Ä–æ–π–¥–µ–Ω –¥–æ 18:00, –æ–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–º\n\n"
            "üëá <i>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –≤—Ä–µ–º—è –æ–ø—Ä–æ—Å–∞</i>"
        )
    
    @staticmethod
    def get_every_few_days_blank() -> str:
        """–ë–ª–∞–Ω–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø—Ä–æ—Å–∞ —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π"""
        return (
            "üìÖ <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø—Ä–æ—Å–∞ —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π</b>\n\n"
            "üî¢ <b>–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –æ–ø—Ä–æ—Å–∞–º–∏:</b>\n\n"
            "‚Ä¢ –†–∞–∑ –≤ 1 –¥–µ–Ω—å\n"
            "‚Ä¢ –†–∞–∑ –≤ 2 –¥–Ω—è\n"
            "‚Ä¢ –†–∞–∑ –≤ 3 –¥–Ω—è\n"
            "‚Ä¢ –†–∞–∑ –≤ 4 –¥–Ω—è\n"
            "‚Ä¢ –†–∞–∑ –≤ 5 –¥–Ω–µ–π\n\n"
            "‚ÑπÔ∏è <i>–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —É–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏</i>\n\n"
            "üîî <b>–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:</b>\n"
            "1. –û—Å–Ω–æ–≤–Ω–æ–π –æ–ø—Ä–æ—Å –ø—Ä–∏–¥–µ—Ç –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è\n"
            "2. –ï—Å–ª–∏ –æ–ø—Ä–æ—Å –Ω–µ –ø—Ä–æ–π–¥–µ–Ω –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å:\n"
            "   ‚Ä¢ –ü–µ—Ä–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ <code>10:00</code>\n"
            "   ‚Ä¢ –í—Ç–æ—Ä–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ <code>14:00</code>\n"
            "   ‚Ä¢ –¢—Ä–µ—Ç—å–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ <code>17:00</code>\n\n"
            "üëá <i>–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</i>"
        )
    
    @staticmethod
    def get_every_few_days_time_blank(days: int, error_msg: Optional[str] = None) -> str:
        """–ë–ª–∞–Ω–∫ –≤–≤–æ–¥–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –æ–ø—Ä–æ—Å–∞ —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
        
        Args:
            days: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –º–µ–∂–¥—É –æ–ø—Ä–æ—Å–∞–º–∏
            error_msg: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        """
        day_form = "–¥–µ–Ω—å" if days == 1 else "–¥–Ω—è" if 2 <= days <= 4 else "–¥–Ω–µ–π"
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        error_section = ""
        if error_msg:
            error_section = (
                "\n\n‚ùóÔ∏è <b>–û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞:</b>\n"
                f"<code>{error_msg}</code>\n"
                "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞:\n"
            )
        
        return (
            f"‚è∞ <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –æ–ø—Ä–æ—Å–∞ —Ä–∞–∑ –≤ {days} {day_form}</b>\n"
            f"{error_section}\n"
            "‚åöÔ∏è <b>–í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–ø—Ä–æ—Å–∞:</b>\n"
            "‚Ä¢ –§–æ—Ä–º–∞—Ç: <code>–ß–ß:–ú–ú</code> (24-—á–∞—Å–æ–≤–æ–π)\n"
            "‚Ä¢ –ü—Ä–∏–º–µ—Ä: <code>15:30</code>\n\n"
            "‚è≥ <b>–î–æ–ø—É—Å—Ç–∏–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω:</b> 07:00 - 22:00\n\n"
            "üîî <b>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å:</b>\n"
            f"‚Ä¢ –ï—Å–ª–∏ –æ–ø—Ä–æ—Å –Ω–µ –ø—Ä–æ–π–¥–µ–Ω –≤ –¥–µ–Ω—å –æ—Ç–ø—Ä–∞–≤–∫–∏\n"
            "‚Ä¢ –í <code>10:00</code>, <code>14:00</code> –∏ <code>17:00</code>\n\n"
            "üëá <b>–í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:</b>"
        )

    @staticmethod
    def get_survey_period_blank(
        error_msg: Optional[str] = None,
        current_start_date: Optional[str] = None,
        current_end_date: Optional[str] = None
    ) -> str:
        """–ë–ª–∞–Ω–∫ –≤–≤–æ–¥–∞ –ø–µ—Ä–∏–æ–¥–∞ –¥–µ–π—Å—Ç–≤–∏—è –æ–ø—Ä–æ—Å–∞ (—Ç—Ä–µ–±—É—é—Ç—Å—è –æ–±–µ –¥–∞—Ç—ã)
        
        Args:
            error_msg: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
            current_start_date: –£–∂–µ –≤–≤–µ–¥–µ–Ω–Ω–∞—è –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
            current_end_date: –£–∂–µ –≤–≤–µ–¥–µ–Ω–Ω–∞—è –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        """
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
        error_section = ""
        if error_msg:
            error_section = (
                "\n\n‚ùóÔ∏è <b>–û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞:</b>\n"
                f"<code>{error_msg}</code>\n"
                "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ–±–µ –¥–∞—Ç—ã —Å–Ω–æ–≤–∞:\n"
            )
        
        # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–∏–µ –¥–∞—Ç—ã —É–∂–µ –≤–≤–µ–¥–µ–Ω—ã
        instruction = ""
        if not current_start_date and not current_end_date:
            instruction = "üëá <b>–í–≤–µ–¥–∏—Ç–µ –æ–±–µ –¥–∞—Ç—ã —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å (–î–î.–ú–ú.–ì–ì–ì–ì-–î–î.–ú–ú.–ì–ì–ì–ì):</b>"
        else:
            instruction = "üëá <b>–í–≤–µ–¥–∏—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì:</b>"
        
        return (
            "üìÖ <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–∏–æ–¥–∞ –¥–µ–π—Å—Ç–≤–∏—è –æ–ø—Ä–æ—Å–∞</b>\n"
            f"{error_section}"
            "\nüìÜ <b>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ –æ–±–µ –¥–∞—Ç—ã:</b>\n"
            f"‚Ä¢ –ù–∞—á–∞–ª–æ: <code>{current_start_date if current_start_date else '–æ–∂–∏–¥–∞–µ—Ç—Å—è –≤–≤–æ–¥'}</code>\n"
            f"‚Ä¢ –ö–æ–Ω–µ—Ü: <code>{current_end_date if current_end_date else '–æ–∂–∏–¥–∞–µ—Ç—Å—è –≤–≤–æ–¥'}</code>\n\n"
            "‚è≥ <b>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:</b>\n"
            "‚Ä¢ –û–±–µ –¥–∞—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –≤–≤–æ–¥–∞\n"
            "‚Ä¢ –§–æ—Ä–º–∞—Ç: –î–î.–ú–ú.–ì–ì–ì–ì\n"
            "‚Ä¢ –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ —Å–µ–≥–æ–¥–Ω—è\n"
            "‚Ä¢ –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞\n\n"
            "üìå <b>–ü—Ä–∏–º–µ—Ä:</b>\n"
            "<code>15.08.2023-30.08.2023</code> (–æ–±–µ –¥–∞—Ç—ã —Å—Ä–∞–∑—É)\n\n"
            f"{instruction}"
        )
    

    @staticmethod
    def get_survey_selection_blank(has_surveys: bool = False) -> str:
        """–ë–ª–∞–Ω–∫ –≤—ã–±–æ—Ä–∞ –æ–ø—Ä–æ—Å–∞ —Å inline-–∫–Ω–æ–ø–∫–∞–º–∏
        
        Args:
            surveys: –°–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤ —Ñ–æ—Ä–º–∞—Ç–∞:
                [{
                    'id': int, 
                    'title': str, 
                    'questions_count': int,
                    'created_at': str (–¥–∞—Ç–∞)
                }]
        """
        base_text = (
            "üìã <b>–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ä–æ—Å –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</b>\n\n"
            "‚ÑπÔ∏è <i>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</i>\n"
            "1. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö –æ–ø—Ä–æ—Å–æ–≤ –Ω–∏–∂–µ\n"
            "2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å –Ω—É–∂–Ω—ã–º –æ–ø—Ä–æ—Å–æ–º\n"
            "3. –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–π–¥–µ—Ç –∫ –≤—ã–±–æ—Ä—É –ø–∞—Ü–∏–µ–Ω—Ç–∞\n\n"
            "üîç <b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø—Ä–æ—Å—ã:</b>"
        )
        
        if not has_surveys:
            return (
                f"{base_text}\n\n"
                "üòî <i>–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø—Ä–æ—Å–æ–≤</i>\n\n"
                "‚úèÔ∏è –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –æ–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –º–µ–Ω—é"
            )
            
        return base_text
    
    @staticmethod
    def get_survey_planning_template(survey_dbm: SurveyDBM) -> str:
        """–ë–ª–∞–Ω–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–º
        
        Args:
            survey: –û–±—ä–µ–∫—Ç –æ–ø—Ä–æ—Å–∞ SurveyDBM
        """
        status_emoji = "üü¢" if survey_dbm.is_active else "üî¥"
        status_text = "–ê–∫—Ç–∏–≤–µ–Ω" if survey_dbm.is_active else "–ù–µ–∞–∫—Ç–∏–≤–µ–Ω"
        
        base_text = (
            "üìã <b>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –æ–ø—Ä–æ—Å–∞</b>\n\n"
            f"<b>–ù–∞–∑–≤–∞–Ω–∏–µ:</b> {survey_dbm.title}\n"
            f"<b>ID –æ–ø—Ä–æ—Å–∞:</b> {survey_dbm.id}\n"
            f"<b>–°—Ç–∞—Ç—É—Å:</b> {status_emoji} {status_text}\n"
        )
        
        if survey_dbm.description:
            base_text += f"\n<b>–û–ø–∏—Å–∞–Ω–∏–µ:</b>\n{survey_dbm.description}\n"
        
        base_text += (
            "\n‚ÑπÔ∏è <i>–ß—Ç–æ –¥–∞–ª—å—à–µ?</i>\n"
            "1. <b>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ</b> –≤—ã–±–æ—Ä —ç—Ç–æ–≥–æ –æ–ø—Ä–æ—Å–∞ –∫–Ω–æ–ø–∫–æ–π –Ω–∏–∂–µ\n"
            "2. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã –ø–µ—Ä–µ–π–¥–µ—Ç–µ –∫ –≤—ã–±–æ—Ä—É –ø–∞—Ü–∏–µ–Ω—Ç–∞\n"
            "üîç <b>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–ø—Ä–æ—Å–µ –≤—ã—à–µ</b>\n"
            "üëá <b>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—ã–±–æ—Ä –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ</b>"
        )
        
        return base_text
    
    @staticmethod
    def get_patient_selection_template(
        survey_dbm: SurveyDBM, 
        user_id: int,
        has_patients: bool = True,
    ) -> str:
        """–ë–ª–∞–Ω–∫ –≤—ã–±–æ—Ä–∞ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞
        
        Args:
            survey_dbm: –û–±—ä–µ–∫—Ç –æ–ø—Ä–æ—Å–∞
            has_patients: –ï—Å—Ç—å –ª–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ –ø–∞—Ü–∏–µ–Ω—Ç—ã
            user_id: ID –≤—Ä–∞—á–∞ –≤ —Å–∏—Å—Ç–µ–º–µ (–¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é)
        """
        base_text = (
            "üë§ <b>–í—ã–±–æ—Ä –ø–∞—Ü–∏–µ–Ω—Ç–∞ –¥–ª—è –æ–ø—Ä–æ—Å–∞</b>\n\n"
            f"üìã <b>–û–ø—Ä–æ—Å:</b> {survey_dbm.title} (ID: {survey_dbm.id})\n\n"
        )
        
        if not has_patients:
            instruction = (
                "‚ÑπÔ∏è <i>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</i>\n\n"
                "üìå <b>–ö–∞–∫ –ø–∞—Ü–∏–µ–Ω—Ç—É –∑–∞–∫—Ä–µ–ø–∏—Ç—å—Å—è –∑–∞ –≤–∞–º–∏:</b>\n"
                "1. –ü–∞—Ü–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é –≤ –±–æ—Ç–µ\n"
                "2. –í—ã–±—Ä–∞—Ç—å '–ó–∞–∫—Ä–µ–ø–∏—Ç—å—Å—è –∑–∞ –¥–æ–∫—Ç–æ—Ä–æ–º'\n"
                "3. –ù–∞–π—Ç–∏ –≤–∞—Å –∏ –Ω–∞–∂–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å\n"
                f"4. –õ–∏–±–æ –≤–≤–µ—Å—Ç–∏ –≤–∞—à ID: <code>{user_id}</code>\n\n"
            )
                
            instruction += "–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ –≤–∞—à–µ–º —Å–ø–∏—Å–∫–µ"
            return f"{base_text}{instruction}"
        
        return (
            f"{base_text}"
            "‚ÑπÔ∏è <i>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</i>\n"
            "1. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ\n"
            "2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—ã–±–æ—Ä –ø–∞—Ü–∏–µ–Ω—Ç–∞\n"
            "3. –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è\n\n"
            "üëá <b>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</b>"
        )
    
    @staticmethod
    def get_patient_confirmation_template(
        survey_dbm: SurveyDBM,
        patient_dbm: UserDBM,
        doctor_id: int
    ) -> str:
        """–ë–ª–∞–Ω–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞
        
        Args:
            survey_dbm: –û–±—ä–µ–∫—Ç –æ–ø—Ä–æ—Å–∞ (SurveyDBM)
            patient_dbm: –û–±—ä–µ–∫—Ç –ø–∞—Ü–∏–µ–Ω—Ç–∞ (UserDBM)
            doctor_id: ID –≤—Ä–∞—á–∞ –≤ —Å–∏—Å—Ç–µ–º–µ
        """
        return (
            "‚úÖ <b>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –ø–∞—Ü–∏–µ–Ω—Ç–∞</b>\n\n"
            f"üìã <b>–û–ø—Ä–æ—Å:</b> {survey_dbm.title} (ID: {survey_dbm.id})\n"
            f"üë§ <b>–ü–∞—Ü–∏–µ–Ω—Ç:</b> {patient_dbm.full_name}\n"
            f"üÜî <b>Telegram ID:</b> <code>{patient_dbm.tg_id}</code>\n"
            f"üë®‚öïÔ∏è <b>–í–∞—à ID:</b> <code>{doctor_id}</code>\n\n"
            "‚ÑπÔ∏è <i>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º</i>\n\n"
            "üëá <b>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—ã–±–æ—Ä –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ</b>"
        )
    
    @staticmethod
    def get_multiple_times_confirmation_blank(survey: Survey) -> str:
        """–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –±–ª–∞–Ω–∫ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å"""
        times = "\n".join(
            f"‚Ä¢ {(datetime.combine(datetime.today(), t) + timedelta(hours=5)).time().strftime('%H:%M')}" 
            for t in survey.schedule_times
        )
        return (
            "üîÑ <b>–¢–∏–ø –æ–ø—Ä–æ—Å–∞: –æ–ø—Ä–æ—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å</b>\n\n"
            f"üìã <b>–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞:</b> {survey.survey_dbm.title}\n"
            f"üë§ <b>–ü–∞—Ü–∏–µ–Ω—Ç:</b> {survey.patient_dbm.full_name}\n\n"
            f"üî¢ <b>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π –≤ –¥–µ–Ω—å:</b> {survey.times_per_day}\n"
            f"‚è∞ <b>–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π:</b>\n{times}\n\n"
            f"üìÖ <b>–ü–µ—Ä–∏–æ–¥:</b> {survey.start_date.strftime('%d.%m.%Y')} - {survey.end_date.strftime('%d.%m.%Y')}\n\n"
            "üîî <b>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:</b>\n"
            f"‚Ä¢ –ë—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –µ—Å–ª–∏ –æ–ø—Ä–æ—Å –Ω–µ –ø—Ä–æ–π–¥–µ–Ω\n"
            f"‚Ä¢ –ú–∞–∫—Å–∏–º—É–º {survey.max_reminders} –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –¥–µ–Ω—å\n\n"
            "üëá <b>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</b>"
        )
    
    @staticmethod
    def get_once_per_day_confirmation_blank(survey: Survey) -> str:
        """–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –±–ª–∞–Ω–∫ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞"""
        times = "\n".join(
            f"‚Ä¢ {(datetime.combine(datetime.today(), t) + timedelta(hours=5)).time().strftime('%H:%M')}" 
            for t in survey.schedule_times
        )
        return (
            "‚òÄÔ∏è <b>–¢–∏–ø –æ–ø—Ä–æ—Å–∞: –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ–ø—Ä–æ—Å</b>\n\n"
            f"üìã <b>–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞:</b> {survey.survey_dbm.title}\n"
            f"üë§ <b>–ü–∞—Ü–∏–µ–Ω—Ç:</b> {survey.patient_dbm.full_name}\n\n"
            f"‚è∞ <b>–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è:</b> {times}\n"
            f"üìÖ <b>–ü–µ—Ä–∏–æ–¥:</b> {survey.start_date.strftime('%d.%m.%Y')} - {survey.end_date.strftime('%d.%m.%Y')}\n\n"
            "üîî <b>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:</b>\n"
            f"‚Ä¢ –ë—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –µ—Å–ª–∏ –æ–ø—Ä–æ—Å –Ω–µ –ø—Ä–æ–π–¥–µ–Ω\n"
            f"‚Ä¢ –ú–∞–∫—Å–∏–º—É–º {survey.max_reminders} –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –¥–µ–Ω—å\n\n"
            "üëá <b>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</b>"
        )

    @staticmethod
    def get_every_few_days_confirmation_blank(survey: Survey) -> str:
        """–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –±–ª–∞–Ω–∫ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞ —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π"""
        times = "\n".join(
            f"‚Ä¢ {(datetime.combine(datetime.today(), t) + timedelta(hours=5)).time().strftime('%H:%M')}" 
            for t in survey.schedule_times
        )
        day_form = "–¥–µ–Ω—å" if survey.interval_days == 1 else "–¥–Ω—è" if 2 <= survey.interval_days <= 4 else "–¥–Ω–µ–π"
        return (
            "üìÜ <b>–¢–∏–ø –æ–ø—Ä–æ—Å–∞: –æ–ø—Ä–æ—Å —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π</b>\n\n"
            f"üìã <b>–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞:</b> {survey.survey_dbm.title}\n"
            f"üë§ <b>–ü–∞—Ü–∏–µ–Ω—Ç:</b> {survey.patient_dbm.full_name}\n\n"
            f"üîÑ <b>–ò–Ω—Ç–µ—Ä–≤–∞–ª:</b> –ö–∞–∂–¥—ã–µ {survey.interval_days} {day_form}\n"
            f"‚è∞ <b>–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è:</b> {times}\n"
            f"üìÖ <b>–ü–µ—Ä–∏–æ–¥:</b> {survey.start_date.strftime('%d.%m.%Y')} - {survey.end_date.strftime('%d.%m.%Y')}\n\n"
            "üîî <b>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:</b>\n"
            f"‚Ä¢ –ë—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –µ—Å–ª–∏ –æ–ø—Ä–æ—Å –Ω–µ –ø—Ä–æ–π–¥–µ–Ω\n"
            f"‚Ä¢ –ú–∞–∫—Å–∏–º—É–º {survey.max_reminders} –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –¥–µ–Ω—å\n\n"
            "üëá <b>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</b>"
        )

    @staticmethod
    def get_survey_planning_confirmation_blank(survey: Survey) -> str:
        if survey.frequency_type is ScheduledSurveyDBM.FrequencyType.MULTIPLE_TIMES_PER_DAY:
            return DoctorBlank.get_multiple_times_confirmation_blank(survey)
        elif survey.frequency_type is ScheduledSurveyDBM.FrequencyType.ONCE_PER_DAY:
            return DoctorBlank.get_once_per_day_confirmation_blank(survey)
        else:
            return DoctorBlank.get_every_few_days_confirmation_blank(survey)